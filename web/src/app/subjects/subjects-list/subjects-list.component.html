<app-title title="Subjects"></app-title>

<div class="rounded-lg shadow px-4 py-6 bg-white border border-gray-200 my-3">
	<div class="flex">
		<button
			type="button"
			class="btn-primary mr-2"
			[disabled]="loading"
			(click)="fetchSubjects()"
		>
			{{ loading ? '' : 'Refresh' }}
			<i class="las la-spinner animate-spin" *ngIf="loading"></i>
		</button>
		<button
			type="button"
			class="btn-emerald"
			[disabled]="loading"
			routerLink="add"
		>
			Add
		</button>
	</div>
	<div class="mt-3">
		<table
			datatable
			[dtOptions]="datatableOptions"
			[dtTrigger]="datatableTrigger"
		>
			<thead>
				<tr>
					<th>#</th>
					<th>Code</th>
					<th>Name</th>
					<th>Description</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
				<tr *ngFor="let subject of subjects">
					<td>{{ subject.id }}</td>
					<td>{{ subject.code }}</td>
					<td>{{ subject.name }}</td>
					<td>{{ truncate(subject.description || '') }}</td>
					<td class="flex">
						<a
							class="btn-yellow mx-1 p-0 h-8 w-8 flex items-center justify-center"
							[routerLink]="[subject.id, 'edit']"
						>
							<i class="las la-edit"></i>
						</a>
						<button
							class="btn-rose mx-1 p-0 h-8 w-8"
							(click)="remove(subject.id)"
						>
							<i class="las la-trash"></i>
						</button>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>
